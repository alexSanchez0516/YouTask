function deleteFriend(){$(document).on("click",".delete_friend",e=>{if(confirm("Estas seguro que quieres eliminar este amigo")){let n=e.target.parentElement.parentElement.children[2].textContent;$.post("http://127.0.0.1:8080/api/friends/delete",{id_element:n},e=>{showFriends()})}})}function close_activity_perfil(){const e=document.querySelector("#close_activity_perfil"),n=document.querySelectorAll(".activity_perfil");null!=e&&e.addEventListener("click",(function(){n.forEach(n=>{n.classList.toggle("d-none"),n.classList.contains("d-none")?e.textContent="mostrar":e.textContent="ocultar"})}))}async function showFriends(){try{const e="http://127.0.0.1:8080/api/friends",n=await fetch(e),t=await n.json();createFriendsList(t[1],t[0])}catch(e){console.log(e)}}function createFriendsList(e,n){const t=document.querySelector("#container_friends");document.querySelector("#countFriends").textContent="Lista de amigos ("+n+")";let r="";e.length>0?e.forEach(e=>{console.log(e),r+=`\n            <div class="col-12 col-md-5 border shadow m-2">\n                <div class="row">\n                    <div class="col-3" id="">\n                        <img id="avatar" src="/build/img/${e.avatar}" alt="avatar" srcset="" class="img-fluid m-2">\n                    </div>\n                    <div class="col-4 d-flex justify-content-center align-items-center">\n                        <span id="friend_username">${e.username}</span>\n                    </div>\n                    <div class="col-5 d-flex">\n                        <nav class="navbar navbar-expand-sm">\n                            <ul class="navbar-nav">\n                                <li class="nav-item dropdown">\n                                    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">\n                                        Acciones\n                                    </a>\n                                    <ul class="dropdown-menu" aria-labelledby="navbarDropdown">\n                                        <li><a class="dropdown-item" href="/amigo?id=${e.id}">Ver Perfil</a></li>\n                                        <li><a class="dropdown-item delete_friend" href="#">Eliminar</a></li>\n                                        <li class="d-none">${e.id}</li>\n                                        <li>\n                                            <hr class="dropdown-divider">\n                                        </li>\n                                        <li><a class="dropdown-item" href="#">Enviar mensaje</a></li>\n                                    </ul>\n                                </li>\n                            </ul>\n                        </nav>\n                    </div>\n                </div>\n            </div>\n            `}):r='<p class="text-center text-danger">No tienes amigos agregados</p>',t.innerHTML=r}function showCreateProject(){const e=document.querySelector("#create_project"),n=document.querySelector("#wrap_initials"),t=document.querySelector("#wrap_create_project");null!=document.querySelector("#create_project")?null!=e?e.addEventListener("click",()=>{n.remove(),t.classList.add("show_wrap_create_project")}):t.classList.add("show_wrap_create_project"):null!=document.querySelector("#wrap_create_project")&&t.classList.add("show_wrap_create_project")}function checkPassword(){const e=document.querySelector("#password"),n=document.querySelector("#repeatPassword"),t=document.querySelector("#btn-register"),r=document.querySelector("#privacity");null!=r&&r.addEventListener("change",(function(){r.checked&&e.value==n.value&&t.classList.toggle("d-flex")}))}function checkAlerts(){if(document.querySelectorAll(".alerts")){document.querySelectorAll(".alerts").forEach(e=>{setTimeout(()=>{e.remove()},6e3)})}}function showMenuResponse(){const e=document.querySelector(".fa-bars"),n=document.querySelector(".nav__menu"),t=document.querySelector(".nav__list");null!=e&&e.addEventListener("click",()=>{n.classList.toggle("d-flex"),t.classList.toggle("flex-column")})}document.addEventListener("DOMContentLoaded",(function(){checkPassword(),checkAlerts(),showMenuResponse(),showCreateProject(),close_activity_perfil(),showFriends(),deleteFriend()}));